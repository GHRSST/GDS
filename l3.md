---
jupytext:
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
---
(l3)=

<a id="section10"></a>

# 10 Level 3 (L3) Product Specification

<a id="section10.1"></a>

## 10.1 Overview description of the GHRSST L3 data product
GHRSST L3 data have been introduced to provide users with gridded, synthetic, and potentially adjusted SST products, bringing added value with respect to the original L2P but still allowing traceability to the original dataset. GHRSST L3 products do not use analysis or interpolation procedure to fill gaps where no observations are available. The GHRSST L3 products include:

- **Un-collated** data that represent a straightforward remapping of L2P GHRSST data granules to a space grid without combining any observations from overlapping orbits or times. Although in principle these data may or may not be adjusted to a reference sensor, in practice the un-collated L3 will normally be a remapped L2P dataset. For remapping best practices, see [Section 10.31](#section10.31). 
- **Collated** data that grid observations from a single instrument and a single platform into space and/or time bins. These data may or may not be adjusted to a reference sensor. For collating best practices see [Section 10.32](#section10.32) and for adjustment best practices see [Section 10.33](#section10.33). 
-	**Super-collated** data that combine observations from a multiple instruments into a space-time grid. In this case, the adjustment to a common reference is necessary to avoid heterogeneities in the resulting field. For best practices concerning the creation of super collated files see [Section 10.34](#section10.34).

As a result, the format of a L3 file will be able to cope with the three kinds of L3 SST presented above. The L3 format will include the following parts:

1) **In case the L3 is un-adjusted, a mandatory section containing the original L2P information** remapped onto the grid point: the original sea surface temperature, quality level and SSES information. An optional section including the remapping condition information may also be provided. These files are essentially gridded L2P files.
2) **In case the L3 is adjusted to a reference**, the adjusted SST value must be provided, together with the local bias to the reference, the error generated by the adjustment processing, and the overall error resulting from the combination of the SSES and the adjustment processing error.
3)	**In case the L3 is super-collated**, the source of SST at each pixel is mandatory.

**Un-adjusted files**: In the case of **un-collated or collated un-adjusted L3 files** the L3 file is derived from L2P data by a remapping process. The remapping and collating best practices are given in the [Section 10.31 Best Practices for Remapping Level 2 Data to a Fixed Grid](#section10.31). Their content is thus identical to that of the L2P, but complementary, optional information on the remapping conditions may be provided.

**Adjusted files**: Collated files may or may not be adjusted, but a super-collated file is necessarily adjusted. The super-collating and adjustment best practices are described in [Section 10.32 Best Practices for Collating Data from the Same Sensor and Platform](#section10.32) and [Best Practices for Adjustments](#section10.33). The principle governing this format is to allow traceability to the original L2P, while providing the best-adjusted SST value. A first section (**in blue in Table 10**) reproduces the original L2P SST and SSES information as in the un-adjusted version. The reference used to adjust the SST must be given in the “reference” attribute of the adjusted_sea_surface_temperature variable. The adjusted SST and some error information are also mandatory. This information **in yellow** in [Table 10-1](#table10-1) is: 

-	**adjusted_standard_deviation_error**: the total error resulting from the combination of the SSES error and the adjustment procedure error, **standard_deviation_to_reference_sst**.
-	**bias_to_reference_sst**: the local value of the estimated difference between the original SST and the reference SST
-	**standard_deviation_to_reference_sst**: an estimate of the error resulting from the adjustment procedure. If the procedure consists of analysing a field of differences of original SST and reference SST, the **standard_deviation_to_reference_sst** will be the error of this analysis.

The GHRSST Science Team determined that 5 mandatory fields will form the core data content of a GHRSST L3 data file. In addition to global attributes and geo-location information, RDACs must produce the following within a L3 file:

- Sea Surface temperature data (SST),
- Time of SST measurement,
- Bias and Standard Deviation error estimates for SST data,
- Data quality.

There are a number of optional fields that may be used at the data provider’s discretion that will form the core data content of a GHRSST data file (table 10-1)".

For every L3 file that is generated, appropriate ISO metadata (**specified in Overview description of the GMPE data product see Section 12.1**) must also be created and registered at the GHRSST Master Metadata Repository (MMR) system. The GHRSST L3 file contents are summarized in [Table 10-1](#table10-1) below.

<a id="table10-1"></a>

#### Table 10-1 Summary description of the contents within a GHRSST L3 data product

| Description                                               | Required  | Relevant Section  |
|-----------------------------------------------------------|-----------|-------------------|
| Dimensions (e.g., i x j x k)                              | Mandatory | Section 8         |
| Global attributes                                         | Mandatory | Section 8.2       |
| [i *x* j *x* k] geolocation data                          | Mandatory | Section 8.4       |
| [i *x* j *x* k] array of SST data                         | Mandatory | Section 9.3       |
| [i *x* j *x* k] array of **sst_dtime** data               | Mandatory | Section 9.4       |
| [i *x* j *x* k] array of **sses_bias** data               | Mandatory | Section 9.5       |
| [i *x* j *x* k] array of **sses_standard_deviation** data | Mandatory | Section 9.6       |
| [i *x* j *x* k] array of **quality_level** data           | Mandatory | Section 9.18      |
| [i *x* j *x* k] array of optional/experimental data       | Optional  | Section 9.24      |

<a id="section10.2"></a>

## 10.2 L3 data record format specification

<a id="section10.31"></a>

This table provides an overview of the GHRSST L3 product pixel data record that should be created for each input data. Within GHRSST L3 data files, there are many variables that are defined identically to their L2P counterparts. In addition, there are several variables that are unique to L3. Both types are listed below in [Table 10-2](#table10-2). In the following sections, each variable within the L3 data file that is unique to L3 is described in detail.

<a id="table10-2"></a>

#### Table 10 2 L3 SST data record content

| Variable Name (Defintion Section, CDL Example)            | Description                | Unit type  |
|-----------------------------------------------------------|----------------------------|------------|
|sea_surface_temperature  (Section 9.3, Table 9-3)| SST measurement values from input L2 satellite data set. L2 SST data are not adjusted in any manner and are identical to the input data set. Use attribute 'sea_surface_temperature:source = "< code from Section 7.9, Error! Reference source not found.>" to specify the L2 input product source.|kelvin int|
|sst_dtime (Section 10.4, Table 9 5)| Deviation in time of SST measurement from reference time stored in the netCDF global variable time (defined as the start time of granule for L3U and the centre time of the collation window for L3C and L3S). Minimum resolution should be one second.|seconds long| 

## Best Practices for Remapping Level 2 Data to a Fixed Grid 

<a id="section10.32"></a>

## Best Practices for Collating Data from the Same Sensor and Platform 

<a id="section10.33"></a>

## Best Practices for Adjustments 

<a id="section10.34"></a>

## Best Practices for Super-Collating Data from Multiple Sensors and Platforms
